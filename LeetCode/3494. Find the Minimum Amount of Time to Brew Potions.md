---
tags:
  - LeetCode
---

# [3494. Find the Minimum Amount of Time to Brew Potions](https://leetcode.com/problems/find-the-minimum-amount-of-time-to-brew-potions/description/)  

+ 日期 : 2025/10/09  

## 問題描述  

給定兩個數字陣列 `skill` 和 `mana`，每個魔法完成所需的時間為 `skill[i] * mana[i]`，  
總共有 `n` 個魔法師，分別為 `skill[i]`，每個魔法師照順序完成 `m` 個魔法(即 `mana`)，  
該魔法師完成魔法後的時間才可以進行下一個魔法，  
問所有魔法都完成所需的最少時間。  

## 直覺想法  

1. 紀錄當前魔法，所有魔法師完成共需要多少時間  
2. 計算與前次魔法之間，前次魔法的完成時間與當前魔法的起始時間差  
3. 將最大的時間差加入到本輪的起始時間中  
4. 最後一輪結束後回傳 `起始時間 + 最後一個魔法的完成時間`  

## 題解  

```cpp=
class Solution {
public:
    long long minTime(vector<int>& skill, vector<int>& mana) {
        int n = skill.size();
        int m = mana.size();
        vector<long long> pre(n, 0);
        long long start = 0;
        for(int j = 0; j < m; ++j) {
            vector<long long> cur(n);
            long long acc = 0;
            for(int i = 0; i < n; ++i) {
                acc += 1ll * skill[i] * mana[j];
                cur[i] = acc;
            }
            long long delay = pre[0];
            for(int i = 1; i < n; ++i) {
                delay = max(delay, pre[i] - cur[i-1]);
            }
            start += delay;
            pre = cur;
        }
        return start + pre[n-1];
    }
};

/*
[1,5,2,4]
[5,1,4,2]
5 30 40 60 - 0
1 6 8 12 - 52
4 24 32 48 - 54
2 12 16 24 - 8
---
[3,5,3,9]
[1,10,7,3]
3 8 11 20 - 0
30 80 110 200 - 3
---
[4,5,4]
[7,9,8]
28 63 91 - 0
36 91 127 - 27
*/
```

Time Complexity : $O(nm)$  
Space Complexity : $O(nm)$  

## 心得  

雖然試錯了幾次，但這題我自己解出來的，蠻開心的  
