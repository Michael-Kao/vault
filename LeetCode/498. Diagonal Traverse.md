---
tags:
  - LeetCode
---

# [498. Diagonal Traverse](https://leetcode.com/problems/diagonal-traverse/description/)  

+ 日期 : 2025/08/25  

## 問題描述  

給一個 `m x n` 的數字矩陣 `mat`，請以對角線的方式回傳矩陣中的所有元素。  

## 直覺想法  

直接模擬對角線的走法，並且考慮所有邊界條件。  

## 題解  

```cpp=
class Solution {
public:
    vector<int> findDiagonalOrder(vector<vector<int>>& mat) {
        int m = mat.size();
        int n = mat[0].size();
        vector<int> res(m*n, INT_MIN);
        int x = 1;
        int y = -1;
        bool dir = true;
        for(int i = 0; i < m*n; ++i) {
            if(dir) {
                x -= 1;
                y += 1;
            } else {
                x += 1;
                y -= 1;
            }
            if((x >= m) || (x < 0) || (y >= n) || (y < 0)) {
                dir = !dir;
                if(dir) {
                    y = y + 1;
                    while(
                        (x < m) &&
                        (y < n) &&
                        (mat[x][y] == INT_MIN)
                    )   y += 1;
                    while(
                        (x == m) &&
                        (y+1 < n) &&
                        (mat[x-1][y+1] == INT_MIN)
                    )   y += 1;
                } else {
                    x = x + 1;
                    while(
                        (x < m) &&
                        (y < n) &&
                        (mat[x][y] == INT_MIN)
                    )   x += 1;
                    while(
                        (x+1 < m) &&
                        (y == n)  &&
                        (mat[x+1][y-1] == INT_MIN)
                    )   x += 1;
                }
            }
            if(x == m || y == n) {
                if(dir) {
                    x -= 1;
                    y += 1;
                } else {
                    x += 1;
                    y -= 1;
                }
            }
            res[i] = mat[x][y];
            mat[x][y] = INT_MIN;
        }
        return res;
    }
};
```

Time Complexity : $O(mn)$  
Space Complexity : $O(1)$  

## 心得  

我很討厭這種題目，因為這種題目完全考具象化的能力，  
你能不能把問題以規則一條一條列出來，用看的我也知道怎麼走，  
問題是能不能寫成規律的規則，並且實作出來，一旦遇到這類問題，  
我一定有一堆邊界條件沒考慮到，從以前到現在都提醒過要開始動筆或腦中模擬，  
但從來沒有開始過，難怪原地踏步，一錯再錯==  
