---
tags:
  - LeetCode
---

# [1493. Longest Subarray of 1's After Deleting One Element](https://leetcode.com/problems/longest-subarray-of-1s-after-deleting-one-element/description/)  

+ 日期 : 2025/08/24  

## 問題描述  

給定一個二進位陣列 `nums`，**至少刪除一個元素**，求刪除後陣列中連續 `1` 的最大長度。  

## 直覺想法  

我感覺我對 `sliding window` 又更不熟悉了，一開始竟然沒想到用 `sliding window` 根本秒解，  
只需要 `maintain` 一個 `2` 元的 `count` 來計算目前 `window` 內 `0/1` 的數量，  
當 `0` 的數量大於 `1` 時就縮小 `window`，直到 `window` 內 `0` 的數量不大於 `1` 為止，  
並且至少刪除一個元素，因此最後判斷若 `count[0] == 0` 時，答案要減 `1`。  

## 題解  

```cpp=
class Solution {
public:
    int longestSubarray(vector<int>& nums) {
        int n = nums.size();
        int res = 0;
        int left = 0;
        int cnt[2] = {0, 0};
        for(int right = 0; right < n; ++right) {
            cnt[nums[right]] += 1;
            while(cnt[0] > 1) {
                cnt[nums[left]] -= 1;
                left += 1;
            }
            res = max(res, cnt[1]);
        }
        return (cnt[0] == 0) ? res - 1 : res;
    }
};
```

Time Complexity : $O(n)$  
Space Complexity : $O(1)$  

## 心得  

I can feel that I am getting worse at leetcoding...  
