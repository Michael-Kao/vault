---
tags:
  - LeetCode
---

# [2975. Maximum Square Area by Removing Fences From a Field](https://leetcode.com/problems/maximum-square-area-by-removing-fences-from-a-field/description/)  

+ 日期 : 2026/01/16  

## 問題描述  

給一個 `m x n` 的矩形，在平面上 `1 + hFence + m` 有水平線 `hFence` 和 `1 + vFence + n` 有垂直線 `vFence`，  
可以移除 `hFence` 和 `vFence` 中的任意線段，求移除後能形成的最大正方形面積。  

## 直覺想法  

1. 先將 `1` 和 `m, n` 分別加入到 `hFence` 和 `vFence` 中，表示邊界。  
2. 能組成的邊長為對於每個 `Fence`，兩兩 `Fence` 之間的距離為可能的邊長。  
3. 找出 垂直 和 水平 的所有可能邊長，取兩者的交集，找出最大值。  

## 題解  

```cpp=
class Solution {
    unordered_set<int> getEdges(vector<int>& fences, int border) {
        unordered_set<int> st;
        fences.push_back(1);
        fences.push_back(border);
        sort(fences.begin(), fences.end());
        for (int i = 0; i < fences.size(); i++) {
            for (int j = i + 1; j < fences.size(); j++) {
                st.insert(fences[j] - fences[i]);
            }
        }
        return st;
    }

public:
    int maximizeSquareArea(int m, int n, vector<int>& hFences,
                           vector<int>& vFences) {
        auto hEdges = getEdges(hFences, m);
        auto vEdges = getEdges(vFences, n);
        int res = 0;
        for (auto e : hEdges) {
            if (vEdges.contains(e)) {
                res = max(res, e);
            }
        }
        if (res == 0) {
            res = -1;
        } else {
            res = 1ll * res * res % 1000000007;
        }
        return res;
    }
};
```

Time Complexity : $O(h^2 + v^2)$  
Space Complexity : $O(h^2 + v^2)$  

## 心得  

Pointless  
