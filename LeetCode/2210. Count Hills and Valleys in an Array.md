---
tags:
  - LeetCode
---

# [2210. Count Hills and Valleys in an Array](https://leetcode.com/problems/count-hills-and-valleys-in-an-array/description/)  

+ 日期 : 2025/07/27  

## 問題描述  

給定一個數字陣列 `nums`，假設 `nums` 中的值代表高度，  
當 `nums[i]` 的左側和右側都有值大於 `nums[i]`，那麼稱 `nums[i]` 為山谷，  
如果左右兩側的值都小於 `nums[i]`，那麼稱 `nums[i]` 為山丘，  
問題要求計算陣列中山丘和山谷的數量。  

## 直覺想法  

第一點就是確定左右兩側的意思，即單側持續向上或向下都不算山丘或山谷，  
因此需要一個基值來判斷，最一開始的走勢為何，確定一開始是上還是下之後，  
每當遇到轉彎處，該位置不是山丘就是山谷。  

## 題解  

```cpp=
class Solution {
public:
    int countHillValley(vector<int>& nums) {
        int n = nums.size();
        int dir = -1;
        int res = 0;
        for(int i = 1; i < n; ++i) {
            int diff = nums[i] - nums[i-1];
            if(diff == 0)    continue;
            if(dir == -1) {
                dir = (diff > 0) ? 1 : 0;
            } else {
                if((diff > 0 && dir == 1) || (diff < 0 && dir == 0))
                    continue;
                dir = (diff > 0) ? 1 : 0;
                res += 1;
            }
        }
        return res;
    }
};
```

Time Complexity : $O(n)$  
Space Complexity : $O(1)$  

## 心得  

還好出門玩回來的題目是 `easy`，昨天那題 `2700+` 的題目就放棄了，  
我又不是競賽選手，才不要折騰自己 ==  
