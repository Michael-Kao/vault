---
tags:
  - LeetCode
---

# [2536. Increment Submatrices by One](https://leetcode.com/problems/increment-submatrices-by-one/description/)  

+ 日期 : 2025/11/14  

## 問題描述  

給定一個整數 `n` 和一個二維陣列 `queries`，建立一個 `n x n` 的矩陣，初始為 `0`，  
`queries[i] = {start_r, start_c, end_r, end_c}`，分別表示一個子矩陣的左上角和右下角，  
針對每一個 `queries`，將子矩陣中的每一個元素加 `1`，最後回傳整個矩陣。  

## 直覺想法  

1. 將每一個 `row` 作為一個 `array` 看，建立 `line sweep array`  
2. 透過 `line sweep array` 來計算每一個位置的 `prefix sum`  
3. 回傳  

## 題解  

```cpp=
class Solution {
public:
    vector<vector<int>> rangeAddQueries(int n, vector<vector<int>>& queries) {
        vector<vector<int>> res(n, vector<int>(n, 0));
        vector<vector<int>> prefix(n, vector<int>(n, 0));
        for(int i = 0; i < queries.size(); ++i) {
            for(int j = queries[i][0]; j <= queries[i][2]; ++j) {
                int start = queries[i][1];
                int end = (queries[i][3] + 1 == n) ? n : queries[i][3] + 1;
                prefix[j][start] += 1;
                if(end < n) {
                    prefix[j][end] -= 1;
                }
            }
        }
        for(int i = 0; i < n; ++i) {
            int sum = 0;
            for(int j = 0; j < n; ++j) {
                sum += prefix[i][j];
                res[i][j] = sum;
            }
        }
        return res;
    }
};
```

Time Complexity : $O(n*m)$  
Space Complexity : $O(n^2)$  

## 心得  

好消息今天買雙螢幕，壞消息我還不會設定 `Xorg` 的雙螢幕  
