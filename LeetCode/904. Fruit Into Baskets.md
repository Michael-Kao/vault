---
tags:
  - LeetCode
---

# [904. Fruit Into Baskets](https://leetcode.com/problems/fruit-into-baskets/description/)  

+ 日期 : 2025/08/04  

## 問題描述  

給定一個數字陣列 `fruits`，找出最長子陣列，其中子陣列包含至多兩種不同的水果類型。返回這個子陣列的長度。  

## 直覺想法  

紀錄目前看過的不同水果類型，並紀錄最後一個水果目前出現數量，  
當出現第三種水果時，將最早出現的水果從子陣列中移除，並更新子陣列的長度。  

## 題解  

```cpp=
class Solution {
public:
    int totalFruit(vector<int>& fruits) {
        int n = fruits.size();
        int f0 = -1;
        int f1 = -1;
        int f1cnt = 0;
        int cur = 0;
        int res = 0;
        for(int i = 0; i < n; ++i) {
            if(fruits[i] == f0 || fruits[i] == f1)
                cur += 1;
            else
                cur = f1cnt + 1;
            
            if(fruits[i] == f1)
                f1cnt += 1;
            else {
                f0 = f1;
                f1 = fruits[i];
                f1cnt = 1;
            }

            res = max(res, cur);
        }
        return res;
    }
};
```

Time Complexity : $O(n)$  
Space Complexity : $O(1)$  

## 心得  

我的壞習慣就是當一般記錄用變數變多時，腦子就會死機，  
常常用多餘的 `loop` 來解，不知為啥每次要多個變數下意識覺得我做錯了  
