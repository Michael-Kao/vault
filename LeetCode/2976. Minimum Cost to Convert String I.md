---
tags:
  - LeetCode
---

# [2976. Minimum Cost to Convert String I](https://leetcode.com/problems/minimum-cost-to-convert-string-i/description/)  

+ 日期 : 2026/01/29  

## 問題描述  

## 直覺想法  

1. 先建立 `adjacency matrix` 紀錄每個字母轉換到其他字母的成本  
2. 透過 `adj matrix` ，利用 `26 x 26` 的陣列，紀錄每個字母轉換到對應字母的最短距離  
3. 遍歷所有 `source` 字母，找出最小路徑的成本，更新 `res`  

## 題解  

```cpp=
class Solution {
public:
    long long minimumCost(string source, string target, vector<char>& original, vector<char>& changed, vector<int>& cost) {
        unordered_map<int, vector<pair<int, int>>> adj;
        for(int i = 0; i < original.size(); ++i) {
            char from = original[i];
            char to = changed[i];
            int dist = cost[i];
            adj[from - 'a'].push_back({to - 'a', dist});
        }
        long long res = 0;
        vector<vector<long long>> dp(26);
        vector<bool> visited(26, false);
        for(int i = 0; i < source.size(); ++i) {
            if(visited[source[i] - 'a'])    continue;
            visited[source[i] - 'a'] = true;
            dp[source[i] - 'a'] = shortestPath(source[i], adj);
        }
        for(int i = 0; i < source.size(); ++i) {
            long long cur = dp[source[i] - 'a'][target[i] - 'a'];
            if(cur == -1)   return -1;
            res += cur;
        }
        return res;
    }

    vector<long long> shortestPath(char source, 
        unordered_map<int, vector<pair<int, int>>> &adj) {
        priority_queue<pair<long long, int>, vector<pair<long long, int>>, 
            std::greater<pair<long long, int>>> minHeap; //[cost, char]
        vector<long long> res(26, -1);
        minHeap.push({0, source - 'a'});
        while(!minHeap.empty()) {
            auto top = minHeap.top();
            minHeap.pop();
            long long dist = top.first;
            int c = top.second;
            if(res[c] != -1)    continue;
            res[c] = dist;
            for(auto nei : adj[c]) {
                minHeap.push({nei.second + dist, nei.first});
            }
        }
        return res;
    }
};
```

Time Complexity : $O(nlogn)$  
Space Complexity : $O(n^2)$  

## 心得  

我不會估演算法  
