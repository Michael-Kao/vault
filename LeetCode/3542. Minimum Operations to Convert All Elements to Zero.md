---
tags:
  - LeetCode
---

# [3542. Minimum Operations to Convert All Elements to Zero](https://leetcode.com/problems/minimum-operations-to-convert-all-elements-to-zero/description/)  

+ 日期 : 2025/11/10  

## 問題描述  

給定一個數字陣列 `nums`，每次操作規則為選擇一定長度的子陣列，  
並將子陣列中最小數改為 `0`，且該數不得為 `0`，問總共要經過多少操作才能將陣列中所有數字變為 `0`。  

## 直覺想法  

沒有想法， `Monotonic Stack` 好難  

1. 當目前元素不為 `0`，表示需要一次操作來將其歸零，加入到 `stack` 中並更新 `res`  
2. 當前元素大於 `stack` 最上方元素，表示目前子陣列中需要多一次操作處理該元素，同步驟一  
3. 當前元素小於 `stack` 最上方元素，表示為一個子陣列的結束，將所有大於當前元素的 `stack` 元素彈出，因為這些元素已經可以在前一個子陣列中被處理掉了  
4. 重複以上步驟直到遍歷完整個陣列  

## 題解  

```cpp=
class Solution {
public:
    int minOperations(vector<int>& nums) {
        stack<int> stk;
        int res = 0;
        for(int a : nums) {
            while(!stk.empty() && stk.top() > a) {
                stk.pop();
            }
            if(a == 0) {
                continue;
            }
            if(stk.empty() || stk.top() < a) {
                stk.push(a);
                res += 1;
            }
        }
        return res;
    }
};
```

Time Complexity : $O(n)$  
Space Complexity : $O(n)$  

## 心得  

整個答案是看得懂，但很難想到阿...  
