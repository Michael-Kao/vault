---
tags:
  - LeetCode
---

# [611. Valid Triangle Number](https://leetcode.com/problems/valid-triangle-number/description/)  

+ 日期 : 2025/09/26  

## 問題描述  

給定一個數字陣列 `nums`，找出裡面任取三個數字能組成三角形的組合數量。  

## 直覺想法  

首先固定兩個邊 `a`、`b`，然後找出第三邊 `c` 的範圍，  
由於直接暴力搜會是 $O(n^3)$，這樣會超時，  
因此可以先將陣列排序，這樣 `c` 的範圍就可以透過二分搜找出，  
使時間複雜度降到 $O(n^2 \log n)$。  

## 題解  

```cpp=
class Solution {
public:
    int triangleNumber(vector<int>& nums) {
        int n = nums.size();
        sort(nums.begin(), nums.end());
        int res = 0;
        for(int i = 0; i < n; ++i) {
            for(int j = i+1; j < n; ++j) {
                int right = searchR(nums, i, j);
                if(right == -1)   continue;
                res += (right - j);
            }
        }
        return res;
    }

    int searchR(vector<int> &nums, int &i, int &j) {
        int a = nums[i];
        int b = nums[j];
        int left = j+1;
        int right = nums.size()-1;
        int res = -1;
        while(left <= right) {
            int mid = (right - left) / 2 + left;
            if(isValid(a, b, nums[mid])) {
                res = mid;
                left = mid + 1;
            } else {
                right = mid - 1;
            }
        }
        return res;
    }

    bool isValid(int a, int b, int c) {
        return (a + b > c) && (a + c > b) && (b + c > a);
    }
};
```

Time Complexity : $O(n^2logn)$  
Space Complexity : $O(1)$  

## 心得  

還有更好的解法，但我最近真的很懶欸  
