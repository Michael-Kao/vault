---
tags:
  - LeetCode
---

# [1513. Number of Substrings With Only 1s](https://leetcode.com/problems/number-of-substrings-with-only-1s/description/)  

+ 日期 : 2025/11/16  

## 問題描述  

給定一個字串陣列 `s`，由 `0` 和 `1` 組成，請找出只有包含 `1` 的子陣列，  
並且計算這些子陣列的數量。  

## 直覺想法  

1. 利用 `l` 和 `r` 兩個指標表示目前子陣列範圍  
2. 如果當下字元為 `0` 表示不是目標，則移動 `l` 到 `cur + 1`  
3. 如果當下為 `1`，那麼包含 `cur` 內的子陣列，可以組出的數量為 `cur - l + 1`，將其加入結果中  

## 題解  

```cpp=
class Solution {
public:
    int numSub(string s) {
        int MOD = 1e9 + 7;
        int l = 0;
        int res = 0;
        for(int r = 0; r < s.size(); ++r) {
            if(s[r] == '0')
                l = r+1;
            else {
                res = (res + (r - l + 1)) % MOD;
            }
        }
        return res;
    }
};
```

Time Complexity : $O(n)$  
Space Complexity : $O(1)$  

## 心得  

這種東西每次我都會腦死，要以 `l` 為主還是 `r` 為主，常常搞混，  
這類問題就是以一側為主，計算在這個長度下，可以組出的子陣列數量。  
