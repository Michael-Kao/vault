---
tags:
  - LeetCode
---

# [1390. Four Divisors](https://leetcode.com/problems/four-divisors/description/)  

+ 日期 : 2026/01/04  

## 問題描述  

給一個整數陣列 `nums`，找到每個數字的所有除數，如果除數數量為 `4`，則加總，最後回傳總和。  

## 直覺想法  

+ 每個數字要找除數只需找 `sqrt(num)`，超過就會重複計算  
+ 如果 `num == i^2`，則除數數量要減 `1`，因為 `i` 只會算一次。  

## 題解  

```cpp=
class Solution {
public:
    int sumFourDivisors(vector<int>& nums) {
        int res = 0;
        unordered_map<int, int> seen;
        for(int num : nums) {
            if(seen.count(num))  {
                res += seen[num];
                continue;
            }
            int cnt = 0;
            int sum = 0;
            for(int i = 1; i <= (int)sqrt(num); ++i) {
                if(num % i == 0) {
                    sum += i;
                    sum += num / i;
                    cnt += 2;
                    if(i == num / i)    cnt -= 1;
                }
            }
            if(cnt == 4) {
                seen[num] = sum;
                res += sum;
            } else {
                seen[num] = 0;
            }
        }
        return res;
    }
};
```

Time Complexity : $O(nm)$  
Space Complexity : $O(n)$  

## 心得  

我數學完全生鏽了QQ  
