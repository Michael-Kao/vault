---
tags:
  - LeetCode
---

# [2110. Number of Smooth Descent Periods of a Stock](https://leetcode.com/problems/number-of-smooth-descent-periods-of-a-stock/description/)  

+ 日期 : 2025/12/15  

## 問題描述  

給定一個數字陣列 `prices`，如果 `prices[i] = prices[i-1] - 1`，表示為平滑下降期 (smooth descent period)，  
且 `prices` 本身也算是一個平滑下降期，求出所有平滑下降期的數量。  

## 直覺想法  

1. 使用 `l` 表示平滑下降期的起始位置，若 `prices[r] != prices[r-1]-1`，則將 `l` 更新為 `r`  
2. 每次 `res += r - l + 1`，表示從 `l` 到 `r` 的所有子陣列皆為平滑下降期  

## 題解  

```cpp=
class Solution {
public:
    long long getDescentPeriods(vector<int>& prices) {
        int n = prices.size();
        long long res = 0;
        int l = 0;
        for(int r = 0; r < n; ++r) {
            if(r > 0 && prices[r] != prices[r-1] - 1) {
                l = r;
            }
            res += r - l + 1;
        }
        return res;
    }
};
```

Time Complexity : $O(n)$  
Space Complexity : $O(1)$  

## 心得  

Have a nice day !  
